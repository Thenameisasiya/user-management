

 {{!-- css link --}}
<link rel="stylesheet" href="/styles/userlogin.css">


{{!--  user register code --}}
<main class="main">
	<div class="container">
		<section class="wrapper">
			<div class="heading">
				<h1 class="text text-large">Register</h1>
				</p>
			</div>
			<form name="signin" class="form" method="post" action="/user/register" >
        {{!-- username --}}
				<div class="input-control">
					<label for="text" class="input-label " hidden>User Name</label>
					<input type="text" name="username" id="username" class="input-field" placeholder="User name">
				</div>
        {{!-- email --}}
				<div class="input-control">
					<label for="email" class="input-label" hidden>Email</label>
					<input type="email" name="email" id="email" class="input-field" placeholder="Email">
				</div>
        {{!-- password --}}
        <div class="input-control">
					<label for="password" class="input-label" hidden>Password</label>
					<input type="password" name="password" id="password" class="input-field" placeholder="Password">
				</div>
        {{!-- confirm password --}}
        <div class="input-control">
					<label for="password" class="input-label" hidden>Confirm Password</label>
					<input type="password" name="confirmPassword" id="confirmPassword" class="input-field" placeholder="Confirm Password">
				</div>
				<div class="input-control">
			
					<!-- Submit Button -->
            <button type="submit" class="input-submit">Submit</button>
				</div>
			</form>
			<div class="already-account">
        <p>Already have an account? 
          <a href="/user/login" class="already-account-link">Sign In</a>
        </p>
      </div>
			<div class="striped">
				<span class="striped-line"></span>
				<span class="striped-text">Or</span>
				<span class="striped-line"></span>
			</div>
			<div class="method">
				<div class="method-control">
					<a href="#" class="method-action">
						 <i class="ion ion-logo-google"></i> 
						<span>Use Google</span>
					</a>
				</div>
				<div class="method-control">
					<a href="#" class="method-action">
						<i class="ion ion-logo-facebook"></i>
						<span>Use Facebook</span>
					</a>
				</div>
			</div>
		</section>
	</div>
</main>





{{!-- sweet alert --}}
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script> 
{{!-- script for register --}}

<script>
	
document.addEventListener('DOMContentLoaded', function () {
  document.querySelector('form').addEventListener('submit', formValidate);
});


function formValidate(e) {
  e.preventDefault(); // Prevent form submission

  // Get values from form inputs
  let username = document.getElementById('username').value.trim();
  let email = document.getElementById('email').value.trim();
  let password = document.getElementById('password').value.trim();
  let confirmPassword = document.getElementById('confirmPassword').value.trim();

  // Validate if fields are not empty
  if (!username || !email || !password || !confirmPassword) {
    Swal.fire({
      icon: 'error',
      title: 'Error',
      text: 'All fields are required!',
    });
    return;
  }

  // Validate email format (optional)
  const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
  if (!emailRegex.test(email)) {
    Swal.fire({
      icon: 'error',
      title: 'Error',
      text: 'Please enter a valid email address!',
    });
    return;
  }

  // Check if passwords match
  if (password !== confirmPassword) {
    Swal.fire({
      icon: 'error',
      title: 'Error',
      text: 'Passwords do not match!',
    });
    return;
  }

  // Show success message
  Swal.fire({
    icon: 'success',
    title: 'Success',
    text: 'Registration successful!',
  }).then(() => {
    // Submit the form after success alert
    e.target.submit();
  });
}

</script>

{{#if message}}
<script> 
  const message = "{{message}}";
  if (message) {
    Swal.fire({
      icon:  "success"
      title: message,
      showConfirmButton: false,
      timer: 8000, // 8 seconds
    });
  }
</script>
 {{/if}}
